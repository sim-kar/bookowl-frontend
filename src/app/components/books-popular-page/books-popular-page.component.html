<div class="spaced">
  <h2>Popular books</h2>
  <label>Per page
    <select>
      <option (click)="itemsPerPage = 5">5</option>
      <option (click)="itemsPerPage = 10">10</option>
      <option (click)="itemsPerPage = 25">25</option>
      <option (click)="itemsPerPage = 50">50</option>
      <option (click)="itemsPerPage = 100" selected>100</option>
    </select>
  </label>
</div>
<ul>
  <li
    class="entry"
    *ngFor="let entry of popularBooks | paginate: { itemsPerPage: itemsPerPage, currentPage: p }"
  >
    <div class="cover">
      <a routerLink="/book/{{entry.book.isbn}}" [state]="{ book: entry.book }">
        <img alt="{{entry.book.title}} book cover" src="{{entry.book.cover}}" width="{{imageWidth}}"/>
      </a>
    </div>
    <div>
      <div class="header">
        <a routerLink="/book/{{entry.book.isbn}}" [state]="{ book: entry.book }">
          <h3>{{entry.book.title}}</h3>
        </a>
        <span> by {{entry.book.authors}}</span>
      </div>
      <p class="text">{{entry.book.description}}</p>
    </div>
  </li>
</ul>
<pagination-controls class="pagination" [autoHide]="true" (pageChange)="p = $event"></pagination-controls>
